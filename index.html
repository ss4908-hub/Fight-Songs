<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fight Song Dashboard | Rutgers Data Week</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Oswald:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #f5f5f7;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      color: #1a1a1a;
      overflow-x: hidden;
    }

    /* Layout */
    .dashboard {
      display: grid;
      grid-template-columns: 80px 280px 1fr 340px;
      min-height: 100vh;
    }

    /* Icon Sidebar */
    .icon-sidebar {
      background: #1a1a1a;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .icon-btn {
      width: 50px;
      height: 50px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.3s;
      background: transparent;
      color: rgba(255,255,255,0.5);
    }

    .icon-btn:hover, .icon-btn.active {
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      color: #fff;
      box-shadow: 0 5px 20px rgba(204, 0, 51, 0.4);
    }

    .icon-btn.logo {
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      color: #fff;
      font-family: 'Oswald', sans-serif;
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 20px;
    }

    /* Left Sidebar */
    .left-sidebar {
      background: #fff;
      padding: 25px 20px;
      border-right: 1px solid rgba(0,0,0,0.08);
      overflow-y: auto;
    }

    .sidebar-section {
      margin-bottom: 25px;
    }

    .sidebar-title {
      font-size: 0.85rem;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .sidebar-title svg {
      width: 16px;
      height: 16px;
      fill: rgba(0,0,0,0.3);
    }

    .conf-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 15px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 5px;
      font-size: 0.9rem;
      color: #555;
    }

    .conf-item:hover {
      background: rgba(204, 0, 51, 0.08);
      color: #cc0033;
    }

    .conf-item.active {
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      color: #fff;
      box-shadow: 0 5px 20px rgba(204, 0, 51, 0.25);
    }

    .conf-icon {
      width: 28px;
      height: 28px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 700;
    }

    /* Quadrant Items */
    .quad-item {
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 12px;
      border-left: 4px solid;
      background: #fafafa;
      cursor: pointer;
      transition: all 0.3s;
    }

    .quad-item:hover {
      transform: translateX(5px);
      box-shadow: 0 3px 15px rgba(0,0,0,0.08);
    }

    .quad-item.bangers { border-color: #f39c12; }
    .quad-item.traditional { border-color: #2ecc71; }
    .quad-item.quirky { border-color: #9b59b6; }
    .quad-item.deep { border-color: #3498db; }

    .quad-item-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .quad-item-icon {
      font-size: 1.2rem;
    }

    .quad-item-title {
      font-size: 0.85rem;
      font-weight: 700;
      color: #1a1a1a;
    }

    .quad-item-desc {
      font-size: 0.75rem;
      color: #666;
      line-height: 1.5;
    }

    /* Main Content */
    .main-content {
      padding: 25px;
      overflow-y: auto;
      background: #f5f5f7;
    }

    /* Hero Section */
    .hero-section {
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      border-radius: 25px;
      padding: 35px;
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
      color: #fff;
    }

    .hero-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero-section::after {
      content: 'üèà';
      position: absolute;
      right: 40px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 8rem;
      opacity: 0.15;
    }

    .hero-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.75rem;
      margin-bottom: 15px;
      backdrop-filter: blur(10px);
    }

    .hero-title {
      font-family: 'Oswald', sans-serif;
      font-size: 2.5rem;
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .hero-subtitle {
      font-size: 0.95rem;
      color: rgba(255,255,255,0.85);
      margin-bottom: 20px;
    }

    .hero-description {
      font-size: 0.9rem;
      line-height: 1.7;
      color: rgba(255,255,255,0.9);
      max-width: 600px;
      margin-bottom: 25px;
    }

    .hero-stats {
      display: flex;
      gap: 30px;
    }

    .hero-stat {
      text-align: center;
      background: rgba(255,255,255,0.15);
      padding: 15px 25px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }

    .hero-stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: #fff;
    }

    .hero-stat-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.8);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .hero-pillars {
      display: flex;
      gap: 12px;
      margin-top: 25px;
    }

    .pillar-badge {
      background: rgba(255,255,255,0.2);
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 0.85rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }

    /* Section Headers */
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: #1a1a1a;
    }

    .section-tabs {
      display: flex;
      gap: 5px;
      background: #fff;
      padding: 5px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .section-tab {
      padding: 8px 18px;
      border-radius: 10px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.3s;
      color: #666;
    }

    .section-tab:hover {
      color: #cc0033;
    }

    .section-tab.active {
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      color: #fff;
    }

    /* Chart Container */
    .chart-container {
      background: #fff;
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.05);
    }

    .chart-title {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #1a1a1a;
    }

    .chart-title .badge {
      background: rgba(204, 0, 51, 0.1);
      color: #cc0033;
      padding: 3px 10px;
      border-radius: 10px;
      font-size: 0.7rem;
    }

    /* Football Field */
    .field-wrapper {
      position: relative;
      width: 100%;
      height: 420px;
      background: linear-gradient(180deg, #4a9c4a 0%, #3d8a3d 100%);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: inset 0 0 50px rgba(0,0,0,0.2);
    }

    .field-stripes {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        90deg,
        rgba(255,255,255,0.03) 0px,
        rgba(255,255,255,0.03) 10%,
        transparent 10%,
        transparent 20%
      );
    }

    .end-zone {
      position: absolute;
      top: 10px;
      bottom: 10px;
      width: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-family: 'Oswald', sans-serif;
      font-size: 0.7rem;
      letter-spacing: 2px;
      writing-mode: vertical-rl;
      font-weight: 700;
    }

    .end-zone-left {
      left: 5px;
      background: linear-gradient(180deg, #cc0033 0%, #990022 100%);
      border-radius: 8px 0 0 8px;
    }

    .end-zone-right {
      right: 5px;
      background: linear-gradient(180deg, #cc0033 0%, #990022 100%);
      border-radius: 0 8px 8px 0;
      transform: rotate(180deg);
    }

    .field-border {
      position: absolute;
      top: 10px;
      left: 45px;
      right: 45px;
      bottom: 10px;
      border: 3px solid rgba(255,255,255,0.6);
      border-radius: 5px;
    }

    .plot-area {
      position: absolute;
      top: 30px;
      left: 60px;
      right: 60px;
      bottom: 30px;
      z-index: 10;
    }

    .quadrant {
      position: absolute;
      opacity: 0.3;
      pointer-events: none;
      border-radius: 5px;
    }

    .quadrant-top-left {
      top: 0; left: 0; width: 50%; height: 50%;
      background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
    }

    .quadrant-top-right {
      top: 0; right: 0; width: 50%; height: 50%;
      background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
    }

    .quadrant-bottom-left {
      bottom: 0; left: 0; width: 50%; height: 50%;
      background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
    }

    .quadrant-bottom-right {
      bottom: 0; right: 0; width: 50%; height: 50%;
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    }

    .quadrant-label {
      position: absolute;
      font-size: 0.6rem;
      font-weight: 700;
      color: #fff;
      padding: 5px 12px;
      border-radius: 8px;
      z-index: 20;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    .label-top-left { top: 35px; left: 65px; background: rgba(155, 89, 182, 0.95); }
    .label-top-right { top: 35px; right: 65px; background: rgba(243, 156, 18, 0.95); }
    .label-bottom-left { bottom: 35px; left: 65px; background: rgba(52, 152, 219, 0.95); }
    .label-bottom-right { bottom: 35px; right: 65px; background: rgba(46, 204, 113, 0.95); }

    .center-line-h {
      position: absolute;
      left: 60px; right: 60px; top: 50%;
      height: 3px;
      background: rgba(255,255,255,0.7);
      z-index: 5;
    }

    .center-line-v {
      position: absolute;
      top: 30px; bottom: 30px; left: 50%;
      width: 3px;
      background: rgba(255,255,255,0.7);
      z-index: 5;
    }

    .data-point {
      position: absolute;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 30;
    }

    .data-point:hover {
      transform: scale(1.5);
      z-index: 100;
    }

    .data-point.playing {
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1.4); filter: drop-shadow(0 0 10px #cc0033); }
      50% { transform: scale(1.7); filter: drop-shadow(0 0 20px #cc0033); }
    }

    /* Legend */
    .legend {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      color: #555;
    }

    .legend-dot {
      width: 14px;
      height: 10px;
      border-radius: 5px;
    }

    /* Right Sidebar */
    .right-sidebar {
      background: #fff;
      padding: 25px 20px;
      border-left: 1px solid rgba(0,0,0,0.08);
      overflow-y: auto;
    }

    .sidebar-card {
      background: #fafafa;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .sidebar-card-title {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: #1a1a1a;
    }

    .view-all {
      font-size: 0.75rem;
      color: #cc0033;
      cursor: pointer;
      font-weight: 600;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    /* Top Songs List */
    .top-song {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 12px;
      margin-bottom: 10px;
      background: #fff;
      transition: all 0.3s;
      cursor: pointer;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .top-song:hover {
      border-color: #cc0033;
      box-shadow: 0 3px 15px rgba(204,0,51,0.1);
    }

    .top-song-rank {
      width: 30px;
      height: 30px;
      border-radius: 10px;
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 700;
      color: #fff;
    }

    .top-song-logo {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Oswald', sans-serif;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .top-song-info {
      flex: 1;
    }

    .top-song-name {
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 2px;
      color: #1a1a1a;
    }

    .top-song-school {
      font-size: 0.7rem;
      color: #888;
    }

    .top-song-stat {
      text-align: right;
    }

    .top-song-stat-value {
      font-size: 1.1rem;
      font-weight: 700;
      color: #cc0033;
    }

    .top-song-stat-label {
      font-size: 0.65rem;
      color: #888;
    }

    /* Fun Facts */
    .fact-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 12px;
      background: #fff;
      border-left: 4px solid #cc0033;
    }

    .fact-icon {
      font-size: 1.5rem;
    }

    .fact-content h4 {
      font-size: 0.85rem;
      font-weight: 700;
      margin-bottom: 5px;
      color: #1a1a1a;
    }

    .fact-content p {
      font-size: 0.75rem;
      color: #666;
      line-height: 1.5;
    }

    /* How to Read Card */
    .how-to-read {
      font-size: 0.85rem;
      color: #555;
      line-height: 1.7;
    }

    .how-to-read strong {
      color: #cc0033;
    }

    /* Tooltip */
    .tooltip {
      position: fixed;
      background: #fff;
      color: #1a1a1a;
      padding: 18px;
      border-radius: 15px;
      font-size: 0.85rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 1000;
      border: 2px solid #cc0033;
      min-width: 220px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    }

    .tooltip.visible {
      opacity: 1;
    }

    .tooltip .school {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 3px;
      color: #cc0033;
    }

    .tooltip .song-name {
      color: #888;
      font-size: 0.75rem;
      font-style: italic;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .tooltip .stats {
      display: grid;
      grid-template-columns: auto auto;
      gap: 5px 15px;
    }

    .tooltip .stat-label { color: #888; font-size: 0.8rem; }
    .tooltip .stat-value { font-weight: 600; color: #1a1a1a; }

    .tooltip .play-hint {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid #eee;
      color: #cc0033;
      font-size: 0.75rem;
      text-align: center;
      font-weight: 600;
    }

    /* Spotify Player */
    .spotify-player {
      position: fixed;
      bottom: 20px;
      right: 360px;
      width: 320px;
      background: #fff;
      border-radius: 15px;
      padding: 15px;
      border: 2px solid #cc0033;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      z-index: 900;
      display: none;
    }

    .spotify-player.visible {
      display: block;
    }

    .spotify-player-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .spotify-player-title {
      font-size: 0.85rem;
      font-weight: 700;
      color: #1a1a1a;
    }

    .spotify-close {
      background: none;
      border: none;
      color: #888;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .spotify-close:hover {
      color: #cc0033;
    }

    .now-playing-mini {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: rgba(204, 0, 51, 0.08);
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .now-playing-mini .album-art {
      width: 45px;
      height: 45px;
      border-radius: 8px;
      background: linear-gradient(135deg, #cc0033 0%, #990022 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .now-playing-mini .song-details {
      flex: 1;
    }

    .now-playing-mini .song-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: #1a1a1a;
    }

    .now-playing-mini .song-artist {
      font-size: 0.7rem;
      color: #888;
    }

    /* Click hint */
    .click-hint {
      text-align: center;
      font-size: 0.8rem;
      color: #888;
      margin-top: 12px;
    }

    .click-hint span {
      color: #cc0033;
      font-weight: 700;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.03);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(204, 0, 51, 0.3);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(204, 0, 51, 0.5);
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Icon Sidebar -->
    <aside class="icon-sidebar">
      <div class="icon-btn logo">R</div>
      <div class="icon-btn active" title="Overview">üè†</div>
      <div class="icon-btn" title="Data">üìä</div>
      <div class="icon-btn" title="Analysis">üìà</div>
      <div class="icon-btn" title="Songs">üéµ</div>
      <div class="icon-btn" title="Settings">‚öôÔ∏è</div>
    </aside>

    <!-- Left Sidebar -->
    <aside class="left-sidebar">
      <div class="sidebar-section">
        <div class="sidebar-title">
          Conferences
          <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
        </div>
        <div class="conf-item active" data-conf="all">
          <div class="conf-icon" style="background: linear-gradient(135deg, #cc0033, #990022); color: #fff;">ALL</div>
          All Conferences
        </div>
        <div class="conf-item" data-conf="ACC">
          <div class="conf-icon" style="background: #c8102e; color: #fff;">ACC</div>
          ACC
        </div>
        <div class="conf-item" data-conf="Big Ten">
          <div class="conf-icon" style="background: #0033a0; color: #fff;">B1G</div>
          Big Ten
        </div>
        <div class="conf-item" data-conf="Big 12">
          <div class="conf-icon" style="background: #cf0a2c; color: #fff;">XII</div>
          Big 12
        </div>
        <div class="conf-item" data-conf="SEC">
          <div class="conf-icon" style="background: #ff8200; color: #fff;">SEC</div>
          SEC
        </div>
        <div class="conf-item" data-conf="Pac-12">
          <div class="conf-icon" style="background: #003831; color: #fff;">P12</div>
          Pac-12
        </div>
        <div class="conf-item" data-conf="Independent">
          <div class="conf-icon" style="background: #666; color: #fff;">IND</div>
          Independent
        </div>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">
          Quadrants
          <svg viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
        </div>
        
        <div class="quad-item bangers" data-quad="bangers">
          <div class="quad-item-header">
            <span class="quad-item-icon">üî•</span>
            <span class="quad-item-title">Stadium Bangers</span>
          </div>
          <div class="quad-item-desc">The easiest, packed with clich√©s and chants that anyone can shout.</div>
        </div>

        <div class="quad-item traditional" data-quad="traditional">
          <div class="quad-item-header">
            <span class="quad-item-icon">üé∫</span>
            <span class="quad-item-title">Traditional Marches</span>
          </div>
          <div class="quad-item-desc">Classic themes but no shouty parts.</div>
        </div>

        <div class="quad-item quirky" data-quad="quirky">
          <div class="quad-item-header">
            <span class="quad-item-icon">üé≠</span>
            <span class="quad-item-title">Quirky Anthems</span>
          </div>
          <div class="quad-item-desc">Unique but stay catchy with nonsense words.</div>
        </div>

        <div class="quad-item deep" data-quad="deep">
          <div class="quad-item-header">
            <span class="quad-item-icon">üíé</span>
            <span class="quad-item-title">Deep Cuts</span>
          </div>
          <div class="quad-item-desc">Hardest to learn, few familiar hooks and nothing easy to yell.</div>
        </div>

        <p style="font-size: 0.75rem; color: #888; margin-top: 15px; line-height: 1.6; padding: 10px; background: #f5f5f5; border-radius: 10px;">
          üí° <strong style="color: #cc0033;">Tip:</strong> The further top-right a song is, the easier it is for fans to join in!
        </p>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section -->
      <div class="hero-section">
        <div class="hero-badge">üèà Rutgers Love Data Week 2026</div>
        <h1 class="hero-title">How Easy is This<br>Fight Song to Shout?</h1>
        <p class="hero-subtitle">Created by Sakshi Sowmya Aravind ‚Ä¢ Supply Chain & Finance '28</p>
        
        <p class="hero-description">
          Fight Songs describe underlying three things: football, music, and college spirit. In football games, hype songs are used to bring up college spirit and motivate the football players. I wanted to use the idea of these underlying factors to represent data.
        </p>

        <div class="hero-stats">
          <div class="hero-stat">
            <div class="hero-stat-value">65</div>
            <div class="hero-stat-label">Fight Songs</div>
          </div>
          <div class="hero-stat">
            <div class="hero-stat-value">6</div>
            <div class="hero-stat-label">Conferences</div>
          </div>
          <div class="hero-stat">
            <div class="hero-stat-value">4</div>
            <div class="hero-stat-label">Quadrants</div>
          </div>
        </div>

        <div class="hero-pillars">
          <div class="pillar-badge">üèà Football</div>
          <div class="pillar-badge">üéµ Music</div>
          <div class="pillar-badge">üì£ College Spirit</div>
        </div>
      </div>

      <!-- Chart Section -->
      <div class="section-header">
        <h2 class="section-title">Stadium Roar Quadrant Map</h2>
        <div class="section-tabs">
          <div class="section-tab active">All Songs</div>
          <div class="section-tab">Bangers</div>
          <div class="section-tab">Deep Cuts</div>
        </div>
      </div>

      <div class="chart-container">
        <div class="chart-title">
          üèüÔ∏è Interactive Fight Song Map
          <span class="badge">Live</span>
        </div>
        
        <div class="field-wrapper">
          <div class="field-stripes"></div>
          <div class="end-zone end-zone-left">FIGHT</div>
          <div class="end-zone end-zone-right">SONGS</div>
          <div class="field-border"></div>
          <div class="center-line-h"></div>
          <div class="center-line-v"></div>
          
          <div class="quadrant-label label-top-left">üé≠ Quirky Anthems</div>
          <div class="quadrant-label label-top-right">üî• Stadium Bangers</div>
          <div class="quadrant-label label-bottom-left">üíé Deep Cuts</div>
          <div class="quadrant-label label-bottom-right">üé∫ Traditional</div>
          
          <div class="plot-area">
            <div class="quadrant quadrant-top-left"></div>
            <div class="quadrant quadrant-top-right"></div>
            <div class="quadrant quadrant-bottom-left"></div>
            <div class="quadrant quadrant-bottom-right"></div>
          </div>
          <div class="plot-area" id="plot-area"></div>
        </div>

        <div class="legend">
          <div class="legend-item"><div class="legend-dot" style="background: #c8102e;"></div> ACC</div>
          <div class="legend-item"><div class="legend-dot" style="background: #0033a0;"></div> Big Ten</div>
          <div class="legend-item"><div class="legend-dot" style="background: #cf0a2c;"></div> Big 12</div>
          <div class="legend-item"><div class="legend-dot" style="background: #ff8200;"></div> SEC</div>
          <div class="legend-item"><div class="legend-dot" style="background: #003831;"></div> Pac-12</div>
          <div class="legend-item"><div class="legend-dot" style="background: #666;"></div> Independent</div>
        </div>

        <div class="click-hint">üéµ <span>Click any football</span> to play that university's fight song!</div>
      </div>
    </main>

    <!-- Right Sidebar -->
    <aside class="right-sidebar">
      <!-- Top Songs -->
      <div class="sidebar-card">
        <div class="sidebar-card-title">
          üèÜ Easiest to Shout
          <span class="view-all">View all</span>
        </div>
        
        <div class="top-song" data-school="Rutgers">
          <div class="top-song-rank">1</div>
          <div class="top-song-logo" style="background: #cc0033; color: #fff;">R</div>
          <div class="top-song-info">
            <div class="top-song-name">The Bells Must Ring</div>
            <div class="top-song-school">Rutgers ‚Ä¢ Big Ten</div>
          </div>
          <div class="top-song-stat">
            <div class="top-song-stat-value">8</div>
            <div class="top-song-stat-label">Tropes</div>
          </div>
        </div>

        <div class="top-song" data-school="TCU">
          <div class="top-song-rank">2</div>
          <div class="top-song-logo" style="background: #4d1979; color: #fff;">TCU</div>
          <div class="top-song-info">
            <div class="top-song-name">TCU Fight Song</div>
            <div class="top-song-school">TCU ‚Ä¢ Big 12</div>
          </div>
          <div class="top-song-stat">
            <div class="top-song-stat-value">6</div>
            <div class="top-song-stat-label">Tropes</div>
          </div>
        </div>

        <div class="top-song" data-school="Notre Dame">
          <div class="top-song-rank">3</div>
          <div class="top-song-logo" style="background: #0c2340; color: #c99700;">ND</div>
          <div class="top-song-info">
            <div class="top-song-name">Victory March</div>
            <div class="top-song-school">Notre Dame ‚Ä¢ Ind</div>
          </div>
          <div class="top-song-stat">
            <div class="top-song-stat-value">6</div>
            <div class="top-song-stat-label">Tropes</div>
          </div>
        </div>
      </div>

      <!-- Fun Facts -->
      <div class="sidebar-card">
        <div class="sidebar-card-title">
          ‚ö° Hot Facts
          <span class="view-all">View all</span>
        </div>

        <div class="fact-item">
          <div class="fact-icon">üëë</div>
          <div class="fact-content">
            <h4>Rutgers Reigns Supreme</h4>
            <p>With 8 tropes and a perfect chant score, "The Bells Must Ring" is the ultimate crowd-pleaser!</p>
          </div>
        </div>

        <div class="fact-item">
          <div class="fact-icon">ü§´</div>
          <div class="fact-content">
            <h4>The Silent Three</h4>
            <p>Michigan, Boston College, and Tennessee have ZERO tropes. Too cool for clich√©s?</p>
          </div>
        </div>

        <div class="fact-item">
          <div class="fact-icon">üéØ</div>
          <div class="fact-content">
            <h4>Perfect Score Club</h4>
            <p>Only 3 schools hit 3/3 on chants: Rutgers, Minnesota, and Virginia!</p>
          </div>
        </div>
      </div>

      <!-- How to Read -->
      <div class="sidebar-card">
        <div class="sidebar-card-title">
          üìñ How to Read This Chart
        </div>
        <div class="how-to-read">
          A fight song is made up of two things: <strong>trope counts</strong> (clich√©s like "Victory," "Fight," and team colors) and <strong>chants</strong> (spelling, nonsense words, and "Rah!"). Together, these make a song easier to learn and sing along to.
          <br><br>
          This chart measures how easy each university's fight song is to jump into by plotting where they fall across four zones.
        </div>
      </div>
    </aside>
  </div>

  <!-- Tooltip -->
  <div class="tooltip" id="tooltip"></div>

  <!-- Spotify Player -->
  <div class="spotify-player" id="spotify-player">
    <div class="spotify-player-header">
      <div class="spotify-player-title">üéµ Now Playing</div>
      <button class="spotify-close" onclick="closePlayer()">‚úï</button>
    </div>
    <div class="now-playing-mini">
      <div class="album-art">üèà</div>
      <div class="song-details">
        <div class="song-title" id="np-title">-</div>
        <div class="song-artist" id="np-school">-</div>
      </div>
    </div>
    <div id="spotify-embed"></div>
  </div>

  <script>
    // Fight song data
    const fightSongData = [
      { school: "Boston College", song_name: "For Boston", conference: "ACC", trope_count: 0, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "4E8cLR6NcYCCJWqD2iwz7c" },
      { school: "Clemson", song_name: "Tiger Rag", conference: "ACC", trope_count: 1, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "7hGtgN4N9ebZTlC7xhvKIE" },
      { school: "Duke", song_name: "Fight Blue Devils", conference: "ACC", trope_count: 4, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "0fDiYvMTYWSSrIuHVJGMZj" },
      { school: "Florida State", song_name: "FSU Fight Song", conference: "ACC", trope_count: 5, chant_score: 2, spelling: 1, nonsense: 1, rah: 0, spotify_id: "552UZRLtAO5YXvIVRLjphI" },
      { school: "Georgia Tech", song_name: "Ramblin' Wreck", conference: "ACC", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "0ZOzvjnZDwrtluHrwbtvGR" },
      { school: "Louisville", song_name: "Fight! U of L", conference: "ACC", trope_count: 5, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "1sCmJDLWfD4hsCHyc9hqUr" },
      { school: "Miami", song_name: "Miami U How-Dee-Doo", conference: "ACC", trope_count: 3, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "2TDHghruqAnMmH4L9GFUUr" },
      { school: "North Carolina", song_name: "I'm a Tar Heel Born", conference: "ACC", trope_count: 1, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "23cCr6w4YgxQaYlr3eNTUr" },
      { school: "NC State", song_name: "The Red & White Song", conference: "ACC", trope_count: 3, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "2Pn76lkyMhOxJj8maIrIRT" },
      { school: "Pittsburgh", song_name: "Hail to Pitt", conference: "ACC", trope_count: 6, chant_score: 2, spelling: 1, nonsense: 1, rah: 0, spotify_id: "55nndPja6lpTsGMinT1SJy" },
      { school: "Syracuse", song_name: "Down the Field", conference: "ACC", trope_count: 6, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "4zrPkQ9AFljRbPy0JNW6cA" },
      { school: "Virginia", song_name: "The Good Old Song", conference: "ACC", trope_count: 3, chant_score: 3, spelling: 1, nonsense: 1, rah: 1, spotify_id: "4zymLpKnHG2KURvrSUyUy8" },
      { school: "Virginia Tech", song_name: "Tech Triumph", conference: "ACC", trope_count: 5, chant_score: 2, spelling: 1, nonsense: 1, rah: 0, spotify_id: "5v3wGg8VMD8MMYGb8SXBss" },
      { school: "Wake Forest", song_name: "O Here's To Wake Forest", conference: "ACC", trope_count: 3, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "3u6THWNCTIdCcGIcJ1FQsN" },
      { school: "Baylor", song_name: "Old Fight", conference: "Big 12", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "2ZsaI0Cu4nz8DHfBkPt0Dl" },
      { school: "Iowa State", song_name: "Iowa State Fights", conference: "Big 12", trope_count: 4, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "3yyfoOXZQCtR6pfRJqu9pl" },
      { school: "Kansas", song_name: "I'm a Jayhawk", conference: "Big 12", trope_count: 3, chant_score: 1, spelling: 0, nonsense: 1, rah: 0, spotify_id: "0JzbjZgcjugS0dmPjF9R89" },
      { school: "Kansas State", song_name: "Wildcat Victory", conference: "Big 12", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "4xxDK4g1OHhZ44sTFy8Ktm" },
      { school: "Oklahoma", song_name: "Boomer Sooner", conference: "Big 12", trope_count: 2, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "0QXC8Gg1oKWkORegslTXoT" },
      { school: "Oklahoma State", song_name: "Ride 'Em Cowboys", conference: "Big 12", trope_count: 4, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "0mTJqaacUZPG740Y1YDn5j" },
      { school: "Texas", song_name: "Texas Fight", conference: "Big 12", trope_count: 4, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "53CytfvDMSkJHY5PtrcZiD" },
      { school: "TCU", song_name: "TCU Fight Song", conference: "Big 12", trope_count: 6, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "0ItcRLvqHlbkaqMCPtQKUl" },
      { school: "Texas Tech", song_name: "Fight, Raiders, Fight", conference: "Big 12", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "3DfKi9Iqvtxf4DIjs8ezTq" },
      { school: "West Virginia", song_name: "Hail West Virginia", conference: "Big 12", trope_count: 1, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "1VqZp811UsBJy66R8TTkei" },
      { school: "Illinois", song_name: "Oskee-Wow-Wow", conference: "Big Ten", trope_count: 6, chant_score: 2, spelling: 0, nonsense: 1, rah: 1, spotify_id: "6C0vaoMxzM21yYgJBmGx5K" },
      { school: "Indiana", song_name: "Indiana, Our Indiana", conference: "Big Ten", trope_count: 3, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "2Wbo5zdRDnq4pOgWL9avaG" },
      { school: "Iowa", song_name: "Iowa Fight Song", conference: "Big Ten", trope_count: 3, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "604ELPPFgbFlW0SHoEYVJw" },
      { school: "Maryland", song_name: "Maryland Fight Song", conference: "Big Ten", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "6PKoPWKJLOBI2K33RkFvbc" },
      { school: "Michigan", song_name: "The Victors", conference: "Big Ten", trope_count: 0, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "6wVbHLCBOCqp6052WcWXLG" },
      { school: "Michigan State", song_name: "Victory for MSU", conference: "Big Ten", trope_count: 5, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "4BSrPApxbeUNPA5Q8LyfMd" },
      { school: "Minnesota", song_name: "The Minnesota Rouser", conference: "Big Ten", trope_count: 3, chant_score: 3, spelling: 1, nonsense: 1, rah: 1, spotify_id: "2EeyLSmHKdZulOKGcTpLS0" },
      { school: "Nebraska", song_name: "Dear Old Nebraska U.", conference: "Big Ten", trope_count: 1, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "7z2TihIyf3IZR1r0AmI1Ik" },
      { school: "Northwestern", song_name: "Go! U Northwestern", conference: "Big Ten", trope_count: 4, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "4iWO9U49SZ0vvzto7qxRxN" },
      { school: "Ohio State", song_name: "Buckeye Battle Cry", conference: "Big Ten", trope_count: 5, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "2faIedehtxwQqYxRRc6T2L" },
      { school: "Penn State", song_name: "Fight On, State", conference: "Big Ten", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "5InlNNfIFQAvCL78VFgR5O" },
      { school: "Purdue", song_name: "Hail Purdue", conference: "Big Ten", trope_count: 2, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "1bYZgec19T5gQJAUeIzq9W" },
      { school: "Rutgers", song_name: "The Bells Must Ring", conference: "Big Ten", trope_count: 8, chant_score: 3, spelling: 1, nonsense: 1, rah: 1, spotify_id: "7EdGMXzZjJKNHJaszbWTHi" },
      { school: "Wisconsin", song_name: "On, Wisconsin", conference: "Big Ten", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "4DmMOLdp4ZYvrAqemDBBbJ" },
      { school: "Oregon", song_name: "Mighty Oregon", conference: "Big Ten", trope_count: 5, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "4zPgdoDF3Od2dwQdPlGJtt" },
      { school: "UCLA", song_name: "Sons of Westwood", conference: "Big Ten", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "0XxQcPAThn9dOZ6NVFUfGl" },
      { school: "USC", song_name: "Fight On, USC", conference: "Big Ten", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "23EM48kuqZWVltXE9bApcK" },
      { school: "Washington", song_name: "Bow Down to Washington", conference: "Big Ten", trope_count: 4, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "0OLQPcJ1jMwrXJbt81hHrx" },
      { school: "Notre Dame", song_name: "Victory March", conference: "Independent", trope_count: 6, chant_score: 1, spelling: 0, nonsense: 0, rah: 1, spotify_id: "15a3ShKX3XWKzq0lSS48yr" },
      { school: "Arizona", song_name: "Bear Down, Arizona", conference: "Pac-12", trope_count: 1, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "2ckfyC5awK1YD3kbOfCHeP" },
      { school: "Arizona State", song_name: "Maroon and Gold", conference: "Pac-12", trope_count: 4, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "138TmlsqwA1J0pGeJBoGUS" },
      { school: "California", song_name: "Fight for California", conference: "Pac-12", trope_count: 5, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "06Qz83gVtmHtWTClrucgjX" },
      { school: "Colorado", song_name: "Fight CU", conference: "Pac-12", trope_count: 4, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "0Q3VKlBT4lugyLG5n9LKIz" },
      { school: "Oregon State", song_name: "Hail to Old OSU", conference: "Pac-12", trope_count: 2, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "4IV43tyrxewZDmBMp2rtHh" },
      { school: "Stanford", song_name: "Come Join the Band", conference: "Pac-12", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "3Zw53YIiVtdcQBmwbBQ2JS" },
      { school: "Utah", song_name: "Utah Man", conference: "Pac-12", trope_count: 4, chant_score: 1, spelling: 0, nonsense: 1, rah: 0, spotify_id: "5pwoauvjUb3aRkDDvibaco" },
      { school: "Washington State", song_name: "The Fight Song", conference: "Pac-12", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "5VErX42t9bSJGas8aOtQyD" },
      { school: "Alabama", song_name: "Yea Alabama", conference: "SEC", trope_count: 6, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "1lkKK6lbsPYD6n5QZbiH1q" },
      { school: "Arkansas", song_name: "Arkansas Fight", conference: "SEC", trope_count: 3, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "20iLjYvQOdAO3lPYkfycGn" },
      { school: "Auburn", song_name: "War Eagle", conference: "SEC", trope_count: 4, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "1WSPADIiYIO5GfNTJ2vwnM" },
      { school: "Florida", song_name: "The Orange and Blue", conference: "SEC", trope_count: 2, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "15yyBZUfgNbft50mMB7a4V" },
      { school: "Georgia", song_name: "Glory, Glory", conference: "SEC", trope_count: 1, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "7masdC1Jz6f4okFu4tAwOz" },
      { school: "Kentucky", song_name: "On! On! U of K", conference: "SEC", trope_count: 5, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "6QMYhg8EaZm7P1n4FZrCWB" },
      { school: "LSU", song_name: "Fight for LSU", conference: "SEC", trope_count: 5, chant_score: 2, spelling: 1, nonsense: 0, rah: 1, spotify_id: "5AeAxCC07c4eyWY8eKopQ4" },
      { school: "Ole Miss", song_name: "Forward Rebels", conference: "SEC", trope_count: 4, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "301ClIQs4cI8poO11mklxg" },
      { school: "Mississippi State", song_name: "Hail State", conference: "SEC", trope_count: 4, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "3WN6SK7WfjUSRDFH4PlMNV" },
      { school: "Missouri", song_name: "Fight Tiger", conference: "SEC", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "4nrVmzJetWGvMa3OKGJm2Q" },
      { school: "South Carolina", song_name: "Fighting Gamecocks", conference: "SEC", trope_count: 4, chant_score: 1, spelling: 1, nonsense: 0, rah: 0, spotify_id: "65X66oBRmSp8gDkoRGbLjD" },
      { school: "Tennessee", song_name: "Rocky Top", conference: "SEC", trope_count: 0, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "5BRY9YO0PDey8RQcDOV9aP" },
      { school: "Texas A&M", song_name: "Aggie War Hymn", conference: "SEC", trope_count: 4, chant_score: 1, spelling: 0, nonsense: 1, rah: 0, spotify_id: "4mssGSMkmNIv0XR5e6j9Ky" },
      { school: "Vanderbilt", song_name: "Dynamite", conference: "SEC", trope_count: 3, chant_score: 0, spelling: 0, nonsense: 0, rah: 0, spotify_id: "5tXWqJHiTDHRYtOngsBPAW" }
    ];

    const conferenceColors = {
      "ACC": "#c8102e",
      "Big 12": "#cf0a2c",
      "Big Ten": "#0033a0",
      "Pac-12": "#003831",
      "SEC": "#ff8200",
      "Independent": "#666666"
    };

    const tropeMedian = 4;
    const chantMedian = 1;

    function getQuadrant(trope, chant) {
      if (trope < tropeMedian && chant > chantMedian) return { name: "üé≠ Quirky Anthems", class: "quirky" };
      if (trope >= tropeMedian && chant > chantMedian) return { name: "üî• Stadium Bangers", class: "bangers" };
      if (trope < tropeMedian && chant <= chantMedian) return { name: "üíé Deep Cuts", class: "deep" };
      return { name: "üé∫ Traditional Marches", class: "traditional" };
    }

    function createFootball(color, size) {
      return `
        <svg width="${size}" height="${size * 0.6}" viewBox="0 0 50 30">
          <defs>
            <linearGradient id="fb-${color.replace('#', '')}" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:${adjustColor(color, 40)}"/>
              <stop offset="50%" style="stop-color:${color}"/>
              <stop offset="100%" style="stop-color:${adjustColor(color, -40)}"/>
            </linearGradient>
          </defs>
          <ellipse cx="25" cy="15" rx="22" ry="12" fill="url(#fb-${color.replace('#', '')})" stroke="rgba(255,255,255,0.8)" stroke-width="1.5"/>
          <path d="M25 5 L25 25" stroke="rgba(255,255,255,0.9)" stroke-width="2"/>
          <path d="M19 9 L31 9 M19 15 L31 15 M19 21 L31 21" stroke="rgba(255,255,255,0.7)" stroke-width="1"/>
        </svg>
      `;
    }

    function adjustColor(color, amount) {
      const hex = color.replace('#', '');
      const r = Math.max(0, Math.min(255, parseInt(hex.substr(0, 2), 16) + amount));
      const g = Math.max(0, Math.min(255, parseInt(hex.substr(2, 2), 16) + amount));
      const b = Math.max(0, Math.min(255, parseInt(hex.substr(4, 2), 16) + amount));
      return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
    }

    const plotArea = document.getElementById('plot-area');
    const tooltip = document.getElementById('tooltip');
    const spotifyPlayer = document.getElementById('spotify-player');

    const maxTrope = 8;
    const maxChant = 3;
    const positionMap = {};
    let currentlyPlaying = null;

    fightSongData.forEach(song => {
      const quadrant = getQuadrant(song.trope_count, song.chant_score);

      const xPercent = (song.trope_count / maxTrope) * 100;
      const yPercent = (1 - song.chant_score / maxChant) * 100;

      const posKey = `${song.trope_count}-${song.chant_score}`;
      if (!positionMap[posKey]) positionMap[posKey] = 0;
      const jitterIndex = positionMap[posKey];
      const jitterX = ((jitterIndex % 5) - 2) * 2.5;
      const jitterY = (Math.floor(jitterIndex / 5) - 1) * 4;
      positionMap[posKey]++;

      const point = document.createElement('div');
      point.className = 'data-point';
      point.style.left = `${Math.max(3, Math.min(97, xPercent + jitterX))}%`;
      point.style.top = `${Math.max(3, Math.min(97, yPercent + jitterY))}%`;
      point.dataset.conference = song.conference;
      point.dataset.quadrant = quadrant.class;

      const size = 24 + (song.trope_count / maxTrope) * 10;
      const color = conferenceColors[song.conference] || '#666';

      point.innerHTML = createFootball(color, size);

      point.addEventListener('click', () => playSong(song, point));

      point.addEventListener('mouseenter', (e) => {
        tooltip.innerHTML = `
          <div class="school">${song.school}</div>
          <div class="song-name">"${song.song_name}"</div>
          <div class="stats">
            <span class="stat-label">Quadrant:</span><span class="stat-value">${quadrant.name}</span>
            <span class="stat-label">Conference:</span><span class="stat-value">${song.conference}</span>
            <span class="stat-label">Trope Count:</span><span class="stat-value">${song.trope_count}</span>
            <span class="stat-label">Chant Score:</span><span class="stat-value">${song.chant_score}/3</span>
          </div>
          <div class="play-hint">üéµ Click to play!</div>
        `;
        tooltip.style.left = `${e.clientX + 15}px`;
        tooltip.style.top = `${e.clientY - 10}px`;
        tooltip.classList.add('visible');
      });

      point.addEventListener('mousemove', (e) => {
        tooltip.style.left = `${e.clientX + 15}px`;
        tooltip.style.top = `${e.clientY - 10}px`;
      });

      point.addEventListener('mouseleave', () => tooltip.classList.remove('visible'));

      plotArea.appendChild(point);
    });

    function playSong(song, element) {
      if (currentlyPlaying) currentlyPlaying.classList.remove('playing');
      element.classList.add('playing');
      currentlyPlaying = element;

      document.getElementById('np-title').textContent = song.song_name;
      document.getElementById('np-school').textContent = song.school + ' ‚Ä¢ ' + song.conference;

      document.getElementById('spotify-embed').innerHTML = `
        <iframe 
          src="https://open.spotify.com/embed/track/${song.spotify_id}?utm_source=generator&theme=0" 
          width="100%" height="80" frameBorder="0" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
        </iframe>
      `;
      spotifyPlayer.classList.add('visible');
    }

    function closePlayer() {
      if (currentlyPlaying) currentlyPlaying.classList.remove('playing');
      currentlyPlaying = null;
      spotifyPlayer.classList.remove('visible');
    }

    // Conference filter
    document.querySelectorAll('.conf-item[data-conf]').forEach(item => {
      item.addEventListener('click', () => {
        document.querySelectorAll('.conf-item[data-conf]').forEach(i => i.classList.remove('active'));
        item.classList.add('active');
        
        const conf = item.dataset.conf;
        document.querySelectorAll('.data-point').forEach(point => {
          if (conf === 'all' || point.dataset.conference === conf) {
            point.style.opacity = '1';
            point.style.pointerEvents = 'auto';
          } else {
            point.style.opacity = '0.15';
            point.style.pointerEvents = 'none';
          }
        });
      });
    });

    // Quadrant filter
    document.querySelectorAll('.quad-item[data-quad]').forEach(item => {
      item.addEventListener('click', () => {
        const quad = item.dataset.quad;
        document.querySelectorAll('.data-point').forEach(point => {
          if (point.dataset.quadrant === quad) {
            point.style.opacity = '1';
            point.style.pointerEvents = 'auto';
            point.style.transform = 'scale(1.3)';
          } else {
            point.style.opacity = '0.15';
            point.style.pointerEvents = 'none';
            point.style.transform = 'scale(1)';
          }
        });
        
        // Reset after 3 seconds
        setTimeout(() => {
          document.querySelectorAll('.data-point').forEach(point => {
            point.style.opacity = '1';
            point.style.pointerEvents = 'auto';
            point.style.transform = 'scale(1)';
          });
        }, 3000);
      });
    });
  </script>
</body>
</html>
